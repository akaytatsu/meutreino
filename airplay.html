<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <title>Rel√≥gio de Academia - Meu Treino (AirPlay Otimizado)</title>

    <!-- Meta tags espec√≠ficas para Apple e AirPlay -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Meu Treino" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="format-detection" content="telephone=no" />

    <!-- Suporte AirPlay otimizado -->
    <meta name="airplay-compatible" content="true" />

    <!-- Preven√ß√£o de zoom autom√°tico -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <link rel="stylesheet" href="style-airplay.css" />
  </head>
  <body>
    <div class="container">
      <!-- Rel√≥gio LED -->
      <div class="clock-container">
        <div class="led-display">
          <div class="time-display">
            <span id="hours">10</span>:<span id="minutes">39</span>:<span
              id="seconds"
              >42</span
            >
          </div>
          <div class="date-display">
            <span id="day">13</span>
            <span class="label">DATE</span>
            <span id="weekday">MON</span>
            <span id="date">20</span>
            <span id="year">17</span>
            <span class="label">YEAR</span>
            <span class="label temp-label">TEMP</span>
            <span id="temperature">24</span>¬∞C
          </div>
          <div class="indicators">
            <div class="alarm-indicator">üïí</div>
            <div class="day-indicator">FRI</div>
            <div class="timer-indicator">‚è∞</div>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o do Treino -->
      <div class="workout-container">
        <h2>üèãÔ∏è TREINO DO DIA</h2>
        <div id="workout-content">
          <div class="loading">Carregando treino...</div>
        </div>
        <div class="workout-date">
          <span id="workout-date"></span>
        </div>
      </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>

    <script>
      // Script espec√≠fico para otimiza√ß√£o de AirPlay
      document.addEventListener("DOMContentLoaded", function () {
        // Detectar se est√° em uma TV/tela grande
        const isLargeScreen =
          window.screen.width >= 1280 && window.screen.height >= 720;
        const isTV = window.screen.width >= 1440 || window.innerWidth >= 1440;

        if (isLargeScreen || isTV) {
          console.log("üì∫ Modo TV/AirPlay detectado");
          document.body.classList.add("tv-mode");

          // For√ßar layout otimizado
          setTimeout(() => {
            const container = document.querySelector(".container");
            const workoutContainer =
              document.querySelector(".workout-container");
            const workoutContent = document.getElementById("workout-content");

            if (container) {
              container.style.gridTemplateRows = "30vh 1fr";
              container.style.gap = "1.5rem";
              container.style.padding = "2rem";
            }

            if (workoutContainer) {
              workoutContainer.style.height = "100%";
              workoutContainer.style.maxHeight = "none";
              workoutContainer.style.minHeight = "400px";
              workoutContainer.style.visibility = "visible";
              workoutContainer.style.opacity = "1";
            }

            if (workoutContent) {
              workoutContent.style.display = "block";
              workoutContent.style.visibility = "visible";
              workoutContent.style.opacity = "1";
            }
          }, 100);
        }

        // Refor√ßar visibilidade a cada 2 segundos
        setInterval(() => {
          const workoutContainer = document.querySelector(".workout-container");
          const workoutContent = document.getElementById("workout-content");

          if (workoutContainer) {
            workoutContainer.style.visibility = "visible";
            workoutContainer.style.opacity = "1";
            workoutContainer.style.display = "flex";
          }

          if (workoutContent) {
            workoutContent.style.display = "block";
            workoutContent.style.visibility = "visible";
            workoutContent.style.opacity = "1";
          }
        }, 2000);
      });
    </script>
  </body>
</html>
